{"version":3,"file":"main.js","sources":["main.js"],"sourcesContent":["\r\n      'use strict';\r\n      var multiItemSlider = (function () {\r\n        return function (selector, config) {\r\n          var\r\n            _mainElement = document.querySelector(selector), // основный элемент блока\r\n            _sliderWrapper = _mainElement.querySelector('.slider__wrapper'), // обертка для .slider-item\r\n            _sliderItems = _mainElement.querySelectorAll('.slider__item'), // элементы (.slider-item)\r\n            _sliderControls = _mainElement.querySelectorAll('.slider__control'), // элементы управления\r\n            _sliderControlLeft = _mainElement.querySelector('.slider__control_left'), // кнопка \"LEFT\"\r\n            _sliderControlRight = _mainElement.querySelector('.slider__control_right'), // кнопка \"RIGHT\"\r\n            _wrapperWidth = parseFloat(getComputedStyle(_sliderWrapper).width), // ширина обёртки\r\n            _itemWidth = parseFloat(getComputedStyle(_sliderItems[0]).width), // ширина одного элемента    \r\n            _positionLeftItem = 0, // позиция левого активного элемента\r\n            _transform = 0, // значение транфсофрмации .slider_wrapper\r\n            _step = _itemWidth / _wrapperWidth * 100, // величина шага (для трансформации)\r\n            _items = [], // массив элементов\r\n            _interval = 0,\r\n            _config = {\r\n              isCycling: true, // автоматическая смена слайдов\r\n              direction: 'right', // направление смены слайдов\r\n              interval: 5000, // интервал между автоматической сменой слайдов\r\n              pause: true // устанавливать ли паузу при поднесении курсора к слайдеру\r\n            };\r\n  \r\n          for (var key in config) {\r\n            if (key in _config) {\r\n              _config[key] = config[key];\r\n            }\r\n          }\r\n  \r\n          // наполнение массива _items\r\n          _sliderItems.forEach(function (item, index) {\r\n            _items.push({ item: item, position: index, transform: 0 });\r\n          });\r\n  \r\n          var position = {\r\n            getItemMin: function () {\r\n              var indexItem = 0;\r\n              _items.forEach(function (item, index) {\r\n                if (item.position < _items[indexItem].position) {\r\n                  indexItem = index;\r\n                }\r\n              });\r\n              return indexItem;\r\n            },\r\n            getItemMax: function () {\r\n              var indexItem = 0;\r\n              _items.forEach(function (item, index) {\r\n                if (item.position > _items[indexItem].position) {\r\n                  indexItem = index;\r\n                }\r\n              });\r\n              return indexItem;\r\n            },\r\n            getMin: function () {\r\n              return _items[position.getItemMin()].position;\r\n            },\r\n            getMax: function () {\r\n              return _items[position.getItemMax()].position;\r\n            }\r\n          }\r\n  \r\n          var _transformItem = function (direction) {\r\n            var nextItem;\r\n            if (direction === 'right') {\r\n              _positionLeftItem++;\r\n              if ((_positionLeftItem + _wrapperWidth / _itemWidth - 1) > position.getMax()) {\r\n                nextItem = position.getItemMin();\r\n                _items[nextItem].position = position.getMax() + 1;\r\n                _items[nextItem].transform += _items.length * 100;\r\n                _items[nextItem].item.style.transform = 'translateX(' + _items[nextItem].transform + '%)';\r\n              }\r\n              _transform -= _step;\r\n            }\r\n            if (direction === 'left') {\r\n              _positionLeftItem--;\r\n              if (_positionLeftItem < position.getMin()) {\r\n                nextItem = position.getItemMax();\r\n                _items[nextItem].position = position.getMin() - 1;\r\n                _items[nextItem].transform -= _items.length * 100;\r\n                _items[nextItem].item.style.transform = 'translateX(' + _items[nextItem].transform + '%)';\r\n              }\r\n              _transform += _step;\r\n            }\r\n            _sliderWrapper.style.transform = 'translateX(' + _transform + '%)';\r\n          }\r\n  \r\n          var _cycle = function (direction) {\r\n            if (!_config.isCycling) {\r\n              return;\r\n            }\r\n            _interval = setInterval(function () {\r\n              _transformItem(direction);\r\n            }, _config.interval);\r\n          }\r\n  \r\n          // обработчик события click для кнопок \"назад\" и \"вперед\"\r\n          var _controlClick = function (e) {\r\n            if (e.target.classList.contains('slider__control')) {\r\n              e.preventDefault();\r\n              var direction = e.target.classList.contains('slider__control_right') ? 'right' : 'left';\r\n              _transformItem(direction);\r\n              clearInterval(_interval);\r\n              _cycle(_config.direction);\r\n            }\r\n          };\r\n  \r\n          var _setUpListeners = function () {\r\n            // добавление к кнопкам \"назад\" и \"вперед\" обрботчика _controlClick для событя click\r\n            _sliderControls.forEach(function (item) {\r\n              item.addEventListener('click', _controlClick);\r\n            });\r\n            if (_config.pause && _config.isCycling) {\r\n              _mainElement.addEventListener('mouseenter', function () {\r\n                clearInterval(_interval);\r\n              });\r\n              _mainElement.addEventListener('mouseleave', function () {\r\n                clearInterval(_interval);\r\n                _cycle(_config.direction);\r\n              });\r\n            }\r\n          }\r\n  \r\n          // инициализация\r\n          _setUpListeners();\r\n          _cycle(_config.direction);\r\n  \r\n          return {\r\n            right: function () { // метод right\r\n              _transformItem('right');\r\n            },\r\n            left: function () { // метод left\r\n              _transformItem('left');\r\n            },\r\n            stop: function () { // метод stop\r\n              _config.isCycling = false;\r\n              clearInterval(_interval);\r\n            },\r\n            cycle: function () { // метод cycle \r\n              _config.isCycling = true;\r\n              clearInterval(_interval);\r\n              _cycle();\r\n            }\r\n          }\r\n  \r\n        }\r\n      }());\r\n  \r\n      var slider = multiItemSlider('.slider', {\r\n        isCycling: true\r\n      })"],"names":["multiItemSlider","selector","config","_mainElement","document","querySelector","_sliderWrapper","_sliderItems","querySelectorAll","_sliderControls","_wrapperWidth","parseFloat","getComputedStyle","width","_itemWidth","_positionLeftItem","_transform","_step","_items","_interval","_config","isCycling","direction","interval","pause","key","_transformItem","nextItem","position","getMax","getItemMin","transform","length","item","style","getMin","getItemMax","_cycle","setInterval","_controlClick","e","target","classList","contains","preventDefault","clearInterval","forEach","index","push","indexItem","addEventListener","right","left","stop","cycle","slider"],"mappings":"aAEM,IAAIA,gBACK,SAAUC,EAAUC,GACzB,IACEC,EAAeC,SAASC,cAAcJ,GACtCK,EAAiBH,EAAaE,cAAc,oBAC5CE,EAAeJ,EAAaK,iBAAiB,iBAC7CC,EAAkBN,EAAaK,iBAAiB,oBAGhDE,GAFqBP,EAAaE,cAAc,yBAC1BF,EAAaE,cAAc,0BACjCM,WAAWC,iBAAiBN,GAAgBO,QAC5DC,EAAaH,WAAWC,iBAAiBL,EAAa,IAAIM,OAC1DE,EAAoB,EACpBC,EAAa,EACbC,EAAQH,EAAaJ,EAAgB,IACrCQ,EAAS,GACTC,EAAY,EACZC,EAAU,CACRC,WAAW,EACXC,UAAW,QACXC,SAAU,IACVC,OAAO,GAGX,IAAK,IAAIC,KAAOvB,EACVuB,KAAOL,IACTA,EAAQK,GAAOvB,EAAOuB,IAoCL,SAAjBC,EAA2BJ,GAC7B,IAAIK,EACc,UAAdL,MACFP,EACyBL,EAAgBI,EAAa,EAAKc,EAASC,WAClEF,EAAWC,EAASE,aACpBZ,EAAOS,GAAUC,SAAWA,EAASC,SAAW,EAChDX,EAAOS,GAAUI,WAA6B,IAAhBb,EAAOc,OACrCd,EAAOS,GAAUM,KAAKC,MAAMH,UAAY,cAAgBb,EAAOS,GAAUI,UAAY,MAEvFf,GAAcC,GAEE,SAAdK,MACFP,EACwBa,EAASO,WAC/BR,EAAWC,EAASQ,aACpBlB,EAAOS,GAAUC,SAAWA,EAASO,SAAW,EAChDjB,EAAOS,GAAUI,WAA6B,IAAhBb,EAAOc,OACrCd,EAAOS,GAAUM,KAAKC,MAAMH,UAAY,cAAgBb,EAAOS,GAAUI,UAAY,MAEvFf,GAAcC,GAEhBX,EAAe4B,MAAMH,UAAY,cAAgBf,EAAa,KAGnD,SAATqB,EAAmBf,GAChBF,EAAQC,YAGbF,EAAYmB,YAAY,WACtBZ,EAAeJ,IACdF,EAAQG,WAIO,SAAhBgB,EAA0BC,GAC5B,IAEMlB,EAFFkB,EAAEC,OAAOC,UAAUC,SAAS,qBAC9BH,EAAEI,iBACEtB,EAAYkB,EAAEC,OAAOC,UAAUC,SAAS,yBAA2B,QAAU,OACjFjB,EAAeJ,GACfuB,cAAc1B,GACdkB,EAAOjB,EAAQE,YAxEnBf,EAAauC,QAAQ,SAAUb,EAAMc,GACnC7B,EAAO8B,KAAK,CAAEf,KAAMA,EAAML,SAAUmB,EAAOhB,UAAW,MAGxD,IAAIH,EAAW,CACbE,WAAY,WACV,IAAImB,EAAY,EAMhB,OALA/B,EAAO4B,QAAQ,SAAUb,EAAMc,GACzBd,EAAKL,SAAWV,EAAO+B,GAAWrB,WACpCqB,EAAYF,KAGTE,GAETb,WAAY,WACV,IAAIa,EAAY,EAMhB,OALA/B,EAAO4B,QAAQ,SAAUb,EAAMc,GACzBd,EAAKL,SAAWV,EAAO+B,GAAWrB,WACpCqB,EAAYF,KAGTE,GAETd,OAAQ,WACN,OAAOjB,EAAOU,EAASE,cAAcF,UAEvCC,OAAQ,WACN,OAAOX,EAAOU,EAASQ,cAAcR,WAqEzC,OAlBEnB,EAAgBqC,QAAQ,SAAUb,GAChCA,EAAKiB,iBAAiB,QAASX,KAE7BnB,EAAQI,OAASJ,EAAQC,YAC3BlB,EAAa+C,iBAAiB,aAAc,WAC1CL,cAAc1B,KAEhBhB,EAAa+C,iBAAiB,aAAc,WAC1CL,cAAc1B,GACdkB,EAAOjB,EAAQE,cAOrBe,EAAOjB,EAAQE,WAER,CACL6B,MAAO,WACLzB,EAAe,UAEjB0B,KAAM,WACJ1B,EAAe,SAEjB2B,KAAM,WACJjC,EAAQC,WAAY,EACpBwB,cAAc1B,IAEhBmC,MAAO,WACLlC,EAAQC,WAAY,EACpBwB,cAAc1B,GACdkB,OAOJkB,OAASvD,gBAAgB,UAAW,CACtCqB,WAAW"}